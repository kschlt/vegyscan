# Documentation Structure - AI Instructions

## Purpose

This documentation follows the **Single Source of Truth (SoT)** principle. Every piece of information has exactly ONE authoritative location.

## Core Principles

### 1. Information Ownership

| Information Type | Authoritative Location | Referenced By |
|-----------------|------------------------|---------------|
| **WHO are the users?** | `business/personas.md` | Vision, use cases, requirements, user stories |
| **WHY are we building this?** (problem, vision, goals) | `business/vision.md` | All other docs |
| **WHAT features must the app have?** | `business/requirements/functional.md` | Use cases, user stories, ADRs |
| **WHAT quality attributes?** (performance, cost, etc.) | `business/requirements/non-functional.md` | ADRs, architecture |
| **HOW do users interact?** (flows, scenarios) | `business/use-cases/UC-XXX.md` | User stories |
| **WHY do users need feature X?** (value proposition) | `business/user-stories/stories.md` | Requirements |
| **WHY did we choose technology Y?** | `architecture/adr/NNNN-*.md` | Overview, diagrams |
| **WHAT decisions have we made?** | `decisions/decision-log.md` | All docs (reference specific decisions) |

**CRITICAL: vision.md is NOT the SoT for features!**
- ✅ vision.md: High-level problem, vision, goals, strategic boundaries
- ❌ vision.md: Detailed feature lists (those belong in functional.md)
- **If you add a new feature**: Update `functional.md` ONLY, not vision.md

### 2. Update Workflow

When you receive new information:

1. **Identify SoT**: Determine the primary location for this information
2. **Update SoT**: Write the full information ONLY there
3. **Update References**: Other documents link to SoT, never duplicate
4. **Check Consistency**: Verify connected documents remain consistent

### 3. Domain Separation

**business/** contains WHAT and WHY from user perspective:
- ✅ User needs, problems, goals
- ✅ Functional requirements
- ✅ Use cases and user stories
- ❌ Technical implementation details

**architecture/** contains HOW from technical perspective:
- ✅ Technology choices
- ✅ System design
- ✅ Technical constraints
- ❌ Business justifications (those belong in requirements)

## Navigation

For specific instructions on working within each domain:
- Business artifacts → `business/.claude.md`
- Architecture artifacts → `architecture/.claude.md`
- Decision tracking → `decisions/.claude.md`

## Rules

- Never duplicate information across documents
- Always link to SoT instead of copying
- When unsure about SoT location, check the table above
- Read domain-specific `.claude.md` before creating/updating files
