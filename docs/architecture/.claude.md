# Architecture Domain - AI Instructions

## Scope

This domain contains ALL technical architecture artifacts.

**Belongs here:**
- ✅ Technology choices (frameworks, libraries, databases)
- ✅ System design and structure
- ✅ Technical constraints and decisions
- ✅ Architecture diagrams
- ✅ Infrastructure and deployment

**Does NOT belong here:**
- ❌ Business requirements (→ `business/requirements/`)
- ❌ User stories and use cases (→ `business/`)
- ❌ Business justifications (→ `business/`)

## File Responsibilities (Single Source of Truth)

### `overview.md`
**SoT for:**
- Current tech stack (languages, frameworks, tools)
- High-level system architecture
- Component overview
- Technology landscape

**Update when:**
- New technology is adopted
- Architecture patterns change
- Major refactoring occurs

**Never include:**
- Decision rationale (→ adr/)
- Detailed diagrams (→ diagrams/)
- Business requirements (→ business/requirements/)

### `adr/`
**SoT for:**
- Individual technology/architecture decisions
- Decision context and consequences
- Historical decision trail

**CRITICAL:** ADRs are IMMUTABLE once accepted

**See:** `adr/.claude.md` for detailed immutability rules

### `diagrams/`
**SoT for:**
- Visual system representations
- Component relationships
- Data flow diagrams

**See:** `diagrams/.claude.md` for diagram types and usage

## Cross-References

Architecture decisions are driven by requirements:
- Always link ADRs to the requirements they address
- Reference non-functional requirements that constrain decisions
- Link overview.md to relevant ADRs

**Example:**
In ADR: "This decision addresses [REQ-NF-005: Offline capability](../business/requirements/non-functional.md#req-nf-005)"

## Update Priority

When making architecture changes:
1. Create ADR for the decision (if significant)
2. Update `overview.md` with new tech/pattern
3. Create/update diagram if structure changes
4. Link to requirements that drove the decision
5. Update decision log in `../decisions/decision-log.md`
