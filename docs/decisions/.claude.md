# Decision Log - AI Instructions

## Purpose

The decision log provides a **chronological overview** of ALL significant decisions.

This is NOT the detailed documentation - it's an index with links.

## Scope

**Include:**
- ✅ Architecture decisions (link to ADRs)
- ✅ Major business decisions (scope changes, pivots)
- ✅ Process decisions (workflow, tools)
- ✅ Design decisions (if significant)

**Exclude:**
- ❌ Minor day-to-day choices
- ❌ Temporary workarounds
- ❌ Implementation details

## File: decision-log.md

This is a **single file** with chronological entries.

### Format

```markdown
## YYYY-MM-DD: [Decision Title]

**Type:** [Architecture | Business | Process | Design]

**Decision:** [One-sentence summary]

**Detailed Documentation:** [Link to ADR, requirement doc, etc.]

**Impact:** [Brief note on significance]

**Status:** [Active | Superseded | Deprecated]
```

### Ordering
- **Newest first** (reverse chronological)
- Date format: YYYY-MM-DD
- Group by date if multiple decisions same day

## Creating Entries

### When to add
- New ADR created → Add entry linking to it
- Major scope change → Add entry linking to vision.md update
- Tool/process adoption → Add entry with link to docs
- Significant design decision → Add entry

### Process
1. Open `decision-log.md`
2. Add new entry at TOP of file (newest first)
3. Link to detailed documentation (ADR, requirement, etc.)
4. Keep summary brief (1-2 sentences max)
5. Tag with Type for easy scanning

## Content Rules

**Entry Summary:**
- ✅ Concise (1-2 sentences)
- ✅ Clear decision outcome ("Chose X", "Decided to Y")
- ✅ Link to full documentation
- ❌ Don't duplicate content (that's in linked docs)
- ❌ Don't include full rationale (that's in ADR/docs)

**Status Field:**
- **Active**: Current decision, in effect
- **Superseded**: Replaced by newer decision (link to it)
- **Deprecated**: No longer recommended, but may exist in codebase

## Example Entries

### Architecture Decision
```markdown
## 2025-11-20: Adopt React Native for Mobile Development

**Type:** Architecture

**Decision:** Chose React Native over Flutter for cross-platform mobile app.

**Detailed Documentation:** [ADR-0001](../architecture/adr/0001-choose-react-native.md)

**Impact:** Enables single codebase for iOS and Android. Team has JavaScript experience.

**Status:** Active
```

### Business Decision
```markdown
## 2025-11-15: Limit Scope to E-numbers Only (v1)

**Type:** Business

**Decision:** Initial release focuses only on E-number scanning, not allergens.

**Detailed Documentation:** [Vision - Scope](../business/vision.md#scope)

**Impact:** Reduces development time, validates core value proposition first.

**Status:** Active
```

### Superseded Decision
```markdown
## 2025-10-05: Use MongoDB for Data Storage

**Type:** Architecture

**Decision:** Selected MongoDB for flexibility with schema changes.

**Detailed Documentation:** [ADR-0005](../architecture/adr/0005-use-mongodb.md)

**Impact:** Enabled rapid prototyping.

**Status:** Superseded by [ADR-0023](../architecture/adr/0023-migrate-to-postgresql.md) on 2025-11-18
```

## Updating Entries

### Allowed Updates
- ✅ Change Status when superseded
- ✅ Add link to superseding decision
- ✅ Fix typos

### Not Allowed
- ❌ Change the decision summary (historical record)
- ❌ Remove entries (even if superseded)
- ❌ Reorder entries (chronological order is fixed)

## Cross-References

### From Log to Other Docs
- ADRs: `../architecture/adr/NNNN-name.md`
- Requirements: `../business/requirements/functional.md#req-id`
- Vision: `../business/vision.md`
- Use Cases: `../business/use-cases/UC-XXX-name.md`

### To Log from Other Docs
- README.md links to log for timeline view
- ADRs can reference log for historical context

## Maintenance

### Regular Review
- When creating ADR → Add log entry
- When updating vision.md → Add log entry if scope changes
- Monthly: Review for superseded decisions

### Pruning
**Never delete entries** - this is a historical record.

Even superseded decisions provide valuable context.

## Checklist for New Entry

- [ ] Added at TOP of file (newest first)
- [ ] Date format: YYYY-MM-DD
- [ ] Type tagged correctly
- [ ] Decision summary is clear and brief
- [ ] Linked to detailed documentation
- [ ] Impact described
- [ ] Status set correctly
